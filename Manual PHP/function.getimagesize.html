<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
 <head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>Obt&eacute;m o tamanho de uma imagem</title>
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-base.css" />
<link media="all" rel="stylesheet" type="text/css" href="styles/03e73060321a0a848018724a6c83de7f-theme-medium.css" />

 </head>
 <body class="docs"><div class="navbar navbar-fixed-top">
  <div class="navbar-inner clearfix">
    <ul class="nav" style="width: 100%">
      <li style="float: left;"><a href="function.gd-info.html">« gd_info</a></li>
      <li style="float: right;"><a href="function.getimagesizefromstring.html">getimagesizefromstring »</a></li>
    </ul>
  </div>
</div>
<div id="breadcrumbs" class="clearfix">
  <ul class="breadcrumbs-container">
    <li><a href="index.html">PHP Manual</a></li>
    <li><a href="ref.image.html">GD and Image Fun&ccedil;&otilde;es</a></li>
    <li>Obt&eacute;m o tamanho de uma imagem</li>
  </ul>
</div>
<div id="layout">
  <div id="layout-content"><div id="function.getimagesize" class="refentry">
 <div class="refnamediv">
  <h1 class="refname">getimagesize</h1>
  <p class="refpurpose"><span class="refname">getimagesize</span> &mdash; <span class="dc-title">Obtém o tamanho de uma imagem</span></p>

 </div>
 <div class="refsect1 description" id="refsect1-function.getimagesize-description">
  <h3 class="title">Descrição</h3>
  <div class="methodsynopsis dc-description">
   <span class="methodname"><strong>getimagesize</strong></span>(<span class="methodparam"><span class="type">string</span> <code class="parameter">$filename</code></span>, <span class="methodparam"><span class="type">array</span> <code class="parameter reference">&$image_info</code><span class="initializer"> = <strong><code>null</code></strong></span></span>): <span class="type"><span class="type">array</span>|<span class="type"><span class="type false">false</span></span></span></div>

  <p class="para rdfs-comment">
   A função <span class="function"><strong>getimagesize()</strong></span> irá determinar o
   tamanho de qualquer arquivo de imagem suportado fornecido e retornar as dimensões,
   juntamente com o tipo de arquivo e uma string de texto <code class="literal">height/width</code> a ser
   usada dentro de uma tag<abbr title="Hyper Text Markup Language">HTML</abbr><code class="tag">IMG</code> normal,
   juntamente com o tipo de conteúdo <abbr title="Hypertext Transfer Protocol">HTTP</abbr> correspondente.
  </p>
  <p class="para">
   <span class="function"><strong>getimagesize()</strong></span> também pode retornar mais informações
   no parâmetro <code class="parameter">image_info</code>.
  </p>
  <div class="caution"><strong class="caution">Cuidado</strong>
   <p class="para">
    Essa função espera que <code class="parameter">filename</code> seja um arquivo
    de imagem válido. Se um arquivo que não seja uma imagem for fornecido,
    ele pode ser incorretamente detectado como uma imagem, e a função será bem-sucedida,
    mas o array pode conter valores sem sentido.
   </p>
   <p class="para">
    Não utilize a função <span class="function"><strong>getimagesize()</strong></span> para verificar se um
    determinado arquivo é uma imagem válida. Em vez disso, utilize uma solução específica
    para essa finalidade, como a extensão <a href="book.fileinfo.html" class="link">Fileinfo</a>.
   </p>
  </div>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    Observe que os formatos JPC e JP2 podem ter componentes com diferentes
    profundidades de bits. Nesse caso, o valor &quot;bits&quot; representa a maior profundidade de bits encontrada. Além disso,
    arquivos JP2 podem conter <code class="literal">multiple JPEG 2000 codestreams</code>. Nesse caso,
    a função <span class="function"><strong>getimagesize()</strong></span> retorna os valores do primeiro codestream
    que encontra na raiz do arquivo.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    As informações sobre ícones são obtidas a partir do ícone com a maior
    taxa de bits.
   </span>
  </p></blockquote>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <span class="simpara">
    As imagens GIF consistem em um ou mais frames, em que cada frame pode ocupar
    apenas uma parte da imagem. O tamanho da imagem relatado pela função
    <span class="function"><strong>getimagesize()</strong></span> é o tamanho geral (lido do descritor da
    tela lógica).
   </span>
  </p></blockquote>
 </div>


 <div class="refsect1 parameters" id="refsect1-function.getimagesize-parameters">
  <h3 class="title">Parâmetros</h3>
  <p class="para">
   <dl>
    
     <dt>
<code class="parameter">filename</code></dt>

     <dd>

      <p class="para">
        Este parâmetro especifica o arquivo do qual você deseja obter
        informações. Ele pode fazer referência a um arquivo local ou (se a configuração permitir) a
        um arquivo remoto usando um dos <a href="wrappers.html" class="link">streams suportados</a>.
      </p>
     </dd>

    
    
     <dt>
<code class="parameter">image_info</code></dt>

     <dd>

      <p class="para">
       Este parâmetro opcional permite extrair informações estendidas do
       arquivo de imagem. Atualmente, isso retornará os diferentes marcadores
       APP <abbr>JPG</abbr> como um array associativo.
       Alguns programas usam esses marcadores APP para incorporar informações de texto em
       imagens. Um dos usos comuns é incorporar informações
       <a href="http://www.iptc.org/" class="link external">&raquo;&nbsp;IPTC</a> no marcador APP13.
       Você pode usar a função <span class="function"><a href="function.iptcparse.html" class="function">iptcparse()</a></span> para analisar o
       marcador binário APP13 em algo legível.
      </p>
      <blockquote class="note"><p><strong class="note">Nota</strong>: 
       <p class="para">
        O parâmetro <code class="parameter">image_info</code> suporta apenas arquivos
        no formato <abbr>JFIF</abbr>.
       </p>
      </p></blockquote>
     </dd>

    
   </dl>

  </p>
 </div>


 <div class="refsect1 returnvalues" id="refsect1-function.getimagesize-returnvalues">
  <h3 class="title">Valor Retornado</h3>
  <p class="para">
   Retorna um array com até 7 elementos. Nem todos os tipos de imagem incluirão
   os elementos <code class="literal">channels</code> e <code class="literal">bits</code>.
  </p>
  <p class="para">
   O índice 0 e 1 contém, respectivamente, a largura e a altura da imagem.
  </p>
  <blockquote class="note"><p><strong class="note">Nota</strong>: 
   <p class="para">
    Alguns formatos podem não conter nenhuma imagem ou podem conter várias imagens. Nesses casos,
    a função <span class="function"><strong>getimagesize()</strong></span> pode não ser capaz de determinar
    corretamente o tamanho da imagem. A função <span class="function"><strong>getimagesize()</strong></span> retornará
    zero para largura e altura nesses casos.
   </p>
  </p></blockquote>
  <p class="para">
   O índice 2 é uma das <a href="image.constants.html" class="link">constantes IMAGETYPE_XXX</a>, que
   indica o tipo da imagem.
  </p>
  <p class="para">
   O índice 3 é uma sequência de texto com a string correta
   <code class="literal">height=&quot;yyy&quot; width=&quot;xxx&quot;</code>
   que pode ser usada diretamente em uma tag <abbr>IMG</abbr>.
  </p>
  <p class="para">
   <code class="literal">mime</code> é o tipo MIME correspondente da imagem.
   Essa informação pode ser usada para fornecer imagens com o cabeçalho
   <code class="literal">Content-type</code> HTTP correto:
   <div class="example" id="">
    <p><strong>Exemplo #1 <span class="function"><strong>getimagesize()</strong></span> e tipos MIME.</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$size </span><span style="color: #007700">= </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">);<br /></span><span style="color: #0000BB">$fp </span><span style="color: #007700">= </span><span style="color: #0000BB">fopen</span><span style="color: #007700">(</span><span style="color: #0000BB">$filename</span><span style="color: #007700">, </span><span style="color: #DD0000">"rb"</span><span style="color: #007700">);<br />if (</span><span style="color: #0000BB">$size </span><span style="color: #007700">&amp;&amp; </span><span style="color: #0000BB">$fp</span><span style="color: #007700">) {<br />    </span><span style="color: #0000BB">header</span><span style="color: #007700">(</span><span style="color: #DD0000">"Content-type: </span><span style="color: #007700">{</span><span style="color: #0000BB">$size</span><span style="color: #007700">[</span><span style="color: #DD0000">'mime'</span><span style="color: #007700">]}</span><span style="color: #DD0000">"</span><span style="color: #007700">);<br />    </span><span style="color: #0000BB">fpassthru</span><span style="color: #007700">(</span><span style="color: #0000BB">$fp</span><span style="color: #007700">);<br />    exit;<br />} else {<br />    </span><span style="color: #FF8000">// erro<br /></span><span style="color: #007700">}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
  <p class="para">
   <code class="literal">channels</code>
   Será 3 para imagens RGB e 4 para imagens CMYK.
  </p>
  <p class="para">
   <code class="literal">bits</code> é o número de bits para cada cor.
  </p>
  <p class="para">
   Para alguns tipos de imagem, a presença dos valores de <code class="literal">channels</code> e
   <code class="literal">bits</code> pode ser um pouco confusa.
   Por exemplo, o formato <abbr title="Graphic Interchange Format">GIF</abbr> sempre utiliza 3 canais
   por pixel, mas o número de bits por pixel não pode ser calculado para um
   <abbr title="Graphic Interchange Format">GIF</abbr> animado com uma tabela de cores global.
  </p>
  <p class="para">
   Em caso de falha, é retornado <strong><code>false</code></strong>.
  </p>
 </div>


 <div class="refsect1 errors" id="refsect1-function.getimagesize-errors">
  <h3 class="title">Erros</h3>
  <p class="para">
   Se for impossível acessar a imagem do <code class="parameter">filename</code>, a função
   <span class="function"><strong>getimagesize()</strong></span> gerará um erro de nível
   <strong><code>E_WARNING</code></strong>. Em caso de erro de leitura,
   <span class="function"><strong>getimagesize()</strong></span> gerará um erro de nível
   <strong><code>E_NOTICE</code></strong>.
  </p>
 </div>


 <div class="refsect1 changelog" id="refsect1-function.getimagesize-changelog">
  <h3 class="title">Changelog</h3>
  <p class="para">
   <table class="doctable informaltable">
    
     <thead>
      <tr>
       <th>Versão</th>
       <th>Descrição</th>
      </tr>

     </thead>

     <tbody class="tbody">
      <tr>
       <td>8.2.0</td>
       <td>
        Agora, a função retorna as dimensões reais da imagem, bits e canais de imagens AVIF;
        anteriormente, as dimensões eram relatadas como <code class="literal">0x0</code>,
        e bits e channels não eram relatados de forma alguma.
       </td>
      </tr>

      <tr>
       <td>7.1.0</td>
       <td>
        Foi adicionado suporte para WebP.
       </td>
      </tr>

     </tbody>
    
   </table>

  </p>
 </div>


 <div class="refsect1 examples" id="refsect1-function.getimagesize-examples">
  <h3 class="title">Exemplos</h3>
  <p class="para">
   <div class="example" id="">
    <p><strong>Exemplo #2 <span class="function"><strong>getimagesize()</strong></span>exemplo</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br /></span><span style="color: #007700">list(</span><span style="color: #0000BB">$width</span><span style="color: #007700">, </span><span style="color: #0000BB">$height</span><span style="color: #007700">, </span><span style="color: #0000BB">$type</span><span style="color: #007700">, </span><span style="color: #0000BB">$attr</span><span style="color: #007700">) = </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #DD0000">"img/flag.jpg"</span><span style="color: #007700">);<br />echo </span><span style="color: #DD0000">"&lt;img src=\"img/flag.jpg\" </span><span style="color: #0000BB">$attr</span><span style="color: #DD0000"> alt=\"getimagesize() example\" /&gt;"</span><span style="color: #007700">;<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="">
    <p><strong>Exemplo #3 getimagesize (URL)</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$size </span><span style="color: #007700">= </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #DD0000">"http://www.example.com/gifs/logo.gif"</span><span style="color: #007700">);<br /><br /></span><span style="color: #FF8000">// se o nome do arquivo contiver espaços, ele será codificado adequadamente.<br /></span><span style="color: #0000BB">$size </span><span style="color: #007700">= </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #DD0000">"http://www.example.com/gifs/lo%20go.gif"</span><span style="color: #007700">);<br /><br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
   <div class="example" id="">
    <p><strong>Exemplo #4 getimagesize() retornando IPTC.</strong></p>
    <div class="example-contents">
<div class="phpcode"><code><span style="color: #000000"><span style="color: #0000BB">&lt;?php<br />$size </span><span style="color: #007700">= </span><span style="color: #0000BB">getimagesize</span><span style="color: #007700">(</span><span style="color: #DD0000">"testimg.jpg"</span><span style="color: #007700">, </span><span style="color: #0000BB">$info</span><span style="color: #007700">);<br />if (isset(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">"APP13"</span><span style="color: #007700">])) {<br />    </span><span style="color: #0000BB">$iptc </span><span style="color: #007700">= </span><span style="color: #0000BB">iptcparse</span><span style="color: #007700">(</span><span style="color: #0000BB">$info</span><span style="color: #007700">[</span><span style="color: #DD0000">"APP13"</span><span style="color: #007700">]);<br />    </span><span style="color: #0000BB">var_dump</span><span style="color: #007700">(</span><span style="color: #0000BB">$iptc</span><span style="color: #007700">);<br />}<br /></span><span style="color: #0000BB">?&gt;</span></span></code></div>
    </div>

   </div>
  </p>
 </div>


 <div class="refsect1 notes" id="refsect1-function.getimagesize-notes">
  <h3 class="title">Notas</h3>
  <blockquote class="note"><p><strong class="note">Nota</strong>: <p class="para">Esta função não requer a biblioteca de imagens GD.</p></p></blockquote>
 </div>


 <div class="refsect1 seealso" id="refsect1-function.getimagesize-seealso">
  <h3 class="title">Veja Também</h3>
  <ul class="simplelist">
   <li class="member"><span class="function"><a href="function.image-type-to-mime-type.html" class="function" rel="rdfs-seeAlso">image_type_to_mime_type()</a> - Get Mime-Type for image-type returned by getimagesize,
   exif_read_data, exif_thumbnail, exif_imagetype</span></li>
   <li class="member"><span class="function"><a href="function.exif-imagetype.html" class="function" rel="rdfs-seeAlso">exif_imagetype()</a> - Verifica o tipo de uma imagem</span></li>
   <li class="member"><span class="function"><a href="function.exif-read-data.html" class="function" rel="rdfs-seeAlso">exif_read_data()</a> - Reads the EXIF headers from an image file</span></li>
   <li class="member"><span class="function"><a href="function.exif-thumbnail.html" class="function" rel="rdfs-seeAlso">exif_thumbnail()</a> - Recupera a miniatura embutida de uma imagem TIFF ou JPEG</span></li>
   <li class="member"><span class="function"><a href="function.imagesx.html" class="function" rel="rdfs-seeAlso">imagesx()</a> - Obtem a largura da imagem</span></li>
   <li class="member"><span class="function"><a href="function.imagesy.html" class="function" rel="rdfs-seeAlso">imagesy()</a> - Obt&eacute;m a altura da imagem</span></li>
  </ul>
 </div>

</div></div></div></body></html>